/* ===== БАЗА ===== */
* { box-sizing: border-box; }
html,body{ height:100%; margin:0; }
body.theme-dark{ background:#000; color:#fff; }

:root{
  --ui-bg:#151515;     /* тулбар/фон панели */
  --ui-panel:#1b1b1b;  /* карточки внутри панели */
  --ui-text:#ffffff;
}

.wrap{ display:flex; flex-direction:column; height:100%; }

/* ===== ТУЛБАР ===== */
.toolbar{
  display:flex; gap:8px; align-items:center;
  padding:10px; background:var(--ui-bg);
}

/* ===== КНОПКИ — полностью прозрачные ===== */
button, .btn, input[type="button"], input[type="submit"]{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:transparent !important;
  background-image:none !important;
  color:var(--ui-text);
  border:0 !important; outline:none !important; box-shadow:none !important;
  padding:.55rem 1rem; border-radius:0; cursor:pointer;
  -webkit-tap-highlight-color:transparent;
}
button:hover, .btn:hover,
button:active, .btn:active,
button:focus, .btn:focus{
  background:transparent !important;
  border:0 !important; outline:none !important; box-shadow:none !important;
}

/* ===== ПАНЕЛЬ ===== */
.panel{
  display:flex; flex-wrap:wrap; gap:12px; padding:8px;
  background:var(--ui-bg);
}
.panel[hidden]{ display:none !important; }
.panel label{
  display:flex; gap:8px; align-items:center;
  background:var(--ui-panel);
  padding:6px 8px; border-radius:0;
}
.panel input[type="range"]{ width:160px; }
.panel output{ min-width:42px; text-align:right; }

/* компактный чекбокс */
.check{ display:flex; align-items:center; gap:8px; padding:6px 8px; }

/* ===== СЦЕНА/ВЫВОД ===== */
.stage{
  flex:1; min-height:0; display:grid; place-items:center; overflow:hidden;
  background:#000;
}
#out{
  margin:0; white-space:pre; user-select:none;
  font-family: ui-monospace, Menlo, Consolas, "Cascadia Mono", monospace;
  line-height:1ch; font-size:16px;
  color:#8ac7ff; background:#000;
  border-radius:0; max-width:100%; max-height:100%;
}

/* ===== RANGE (ползунки) — белый тонкий трек, квадратный белый бегунок ===== */
input[type="range"]{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:transparent; height:18px;
  margin:0; padding:0;
}
/* WebKit */
input[type="range"]::-webkit-slider-runnable-track{
  height:2px; background:#fff; border:none; box-shadow:none;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:16px; height:16px; background:#fff;
  border:none; border-radius:0; margin-top:-7px; box-shadow:none;
}
/* Firefox */
input[type="range"]::-moz-range-track{
  height:2px; background:#fff; border:none;
}
input[type="range"]::-moz-range-thumb{
  width:16px; height:16px; background:#fff;
  border:none; border-radius:0; box-shadow:none;
}
/* MS Edge (old) */
input[type="range"]::-ms-track{
  height:2px; background:transparent; border-color:transparent; color:transparent;
}
input[type="range"]::-ms-fill-lower,
input[type="range"]::-ms-fill-upper{
  background:#fff; border:none;
}
input[type="range"]::-ms-thumb{
  width:16px; height:16px; background:#fff;
  border:none; border-radius:0; margin-top:0; box-shadow:none;
}

/* ===== SELECT/INPUT — без рамок/заливок, белый текст ===== */
input, select, textarea{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:transparent; color:var(--ui-text);
  border:0 !important; outline:none !important; box-shadow:none !important;
}
select{ background:transparent; color:var(--ui-text); }
option{ background:var(--ui-panel); color:var(--ui-text); }

/* небольшая защита от «прыжков» при клавиатуре на мобилках */
@supports (padding: env(safe-area-inset-bottom)){
  .wrap{ padding-bottom: env(safe-area-inset-bottom); }
}

/* === Шрифт интерфейса === */
body, .toolbar, .panel, .btn, label, output, select, option {
  font-family: 'Better VCR', sans-serif;
}

/* ===== FULLSCREEN ===== */
:fullscreen .toolbar,
:fullscreen .panel { display:none !important; }

.body-fullscreen .toolbar,
.body-fullscreen .panel { display:none !important; }

.fs-exit {
  position:fixed; top:10px; right:10px; width:36px; height:36px;
  display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,.6);
  color:var(--ui-text);
  cursor:pointer; z-index:9999; user-select:none;
}
.fs-exit::after { content:"⤢"; font-size:18px; line-height:1; }

.body-fullscreen .stage { width:100vw; height:100vh; }
\n\n
/* Показываем .only-mobile только на устройствах без hover и с грубым указателем (мобилки) */
@media (hover: none) and (pointer: coarse) {
  .only-mobile { display: inline-block !important; }
}
/* По умолчанию скрыта */
.only-mobile { display: none; }
