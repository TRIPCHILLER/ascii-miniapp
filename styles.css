/* Базовые размеры: занимаем всё окно, без прокрутки */
html,body{
  height:100svh;           /* корректно на мобильных с панелями */
  margin:0;
  overflow:hidden;         /* убираем скролл всей страницы */
}

/* BetterVCR только для UI. Сам ASCII — строгий monospace */
@font-face{
  font-family:'BetterVCR';
  src:url('assets/BetterVCR.woff2') format('woff2'),
      url('assets/BetterVCR.woff')  format('woff');
  font-display:swap;
}
body.theme-dark{
  background:#000;
  color:#8ac7ff;
  font-family:'BetterVCR', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* Макет */
.wrap{display:flex;flex-direction:column;height:100%}
.toolbar{display:flex;gap:8px;align-items:center;padding:10px;flex-wrap:wrap;background:#0b0f18}
.btn{background:#13223a;color:#cfe6ff;border:1px solid #223a60;padding:.55rem 1rem;border-radius:.6rem;cursor:pointer}
.btn.ghost{background:transparent}
.btn[disabled]{opacity:.5;cursor:not-allowed}
.panel{display:flex;flex-wrap:wrap;gap:12px;padding:8px;background:#0b0f18}
.panel label{display:flex;gap:8px;align-items:center;background:#0f1626;border:1px solid #223a60;padding:6px 8px;border-radius:.5rem}

/* Фиксированная рамка показа: заполняет остаток окна; min-height:0 чтобы flex-child не "распирал" страницу */
.stage{flex:1;display:grid;place-items:center;overflow:hidden;min-height:0}

/* ASCII — строгий monospace; вписываемся в .stage */
pre{
  white-space:pre;
  font-family:ui-monospace,Menlo,Consolas,monospace;
  line-height:1ch;
  font-size:12px; /* реальный размер подберёт JS */
  margin:0;
  user-select:none;
  color:var(--fg,#8ac7ff);
  background:var(--bg,#000);
  padding:10px 12px;
  border-radius:12px;
  border:1px solid #223a60;
  box-sizing:border-box;
  max-width:100%;
  max-height:100%;
}

/* Модалка согласия */
.has-modal .toolbar, .has-modal .stage { pointer-events:none !important }
.modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.72);z-index:2147483647}
.modal[hidden]{display:none !important}
.card{background:#0f1626;border:1px solid #223a60;border-radius:12px;padding:18px;max-width:420px;width:min(420px,90vw);color:#cfe6ff}
.card h3{margin:0 0 8px}

/* безопасная зона на iOS */
.wrap{padding-bottom:env(safe-area-inset-bottom)}
