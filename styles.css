/* ====== базовые переменные ====== */
:root{
  --ui-bg:#0f0f10;
  --ui-panel:#121214;
  --ui-border:#ffffff;
  --ui-text:#ffffff;

  /* цвет фона сцены и ASCII — управляется через JS */
  --bg:#000000;
}

/* ====== базовая раскладка ====== */
html,body{height:100%;margin:0;overflow:hidden}
body.theme-dark{background:#000;color:var(--ui-text);font-family:'BetterVCR',ui-sans-serif,system-ui}

/* wrap */
.wrap{display:flex;flex-direction:column;height:100%}

/* toolbar */
.toolbar{
  display:flex;gap:8px;align-items:center;padding:10px;
  background:var(--ui-bg);border-bottom:1px solid var(--ui-border);
}
.btn{
  background:transparent;color:var(--ui-text);
  border:1px solid var(--ui-border);padding:.55rem 1rem;border-radius:0;cursor:pointer;
}
.btn:focus-visible{outline:2px dashed var(--ui-border);outline-offset:2px}

/* settings panel */
.panel{
  display:flex;flex-wrap:wrap;gap:12px;padding:8px;
  background:var(--ui-bg);border-bottom:1px solid var(--ui-border);
}
.panel[hidden]{display:none!important}
.panel label{
  display:flex;gap:8px;align-items:center;background:var(--ui-panel);
  border:1px solid var(--ui-border);padding:6px 8px;border-radius:0;
}
.panel input[type="range"]{width:160px}
.panel .check{align-items:center}

/* сцена */
.stage{
  /* ВСЯ видимая область под ASCII — фиксированная рамка */
  flex:1;min-height:0;display:flex;place-content:center;place-items:center;
  background:var(--bg);
  overflow:hidden; /* без скроллов */
  position:relative;
}

/* сам ASCII */
#out{
  margin:0;white-space:pre;user-select:none;pointer-events:none;
  color:var(--fg,#8ac7ff);background:var(--bg);
  border:1px solid var(--ui-border);border-radius:0;padding:10px 12px;box-sizing:border-box;

  /* вписывание — ограничиваем по контейнеру */
  max-width:100%;max-height:100%;

  /* подготовка к горизонтальной коррекции */
  transform-origin:center center;
  font-family:ui-monospace,Menlo,Consolas,monospace;
  line-height:1em;
}

/* мобильная панель — вертикалью удобнее */
@media (max-width: 768px){
  .panel{flex-direction:column}
  .panel label{flex-direction:row}
}
