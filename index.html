<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ASCII live · app</title>
  <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/better-vcr" />
  <link rel="stylesheet" href="styles.css?v=fit2" />
</head>
<body class="theme-dark">
  <div class="wrap" id="app">

<div class="toolbar">
  <button class="btn" id="flip">Развернуть</button>
  <button class="btn" id="toggle">Настройки</button>
  <button class="btn ghost" id="fs" aria-label="Fullscreen">Fullscreen</button>
</div>

    <div class="panel" id="settings" hidden>
      <label>
        <span>Ширина</span>
        <input id="width" type="range" min="50" max="250" step="1" />
        <output id="width_val"></output>
      </label>

      <label>
        <span>Контраст</span>
        <input id="contrast" type="range" min="0.4" max="2.2" step="0.01" />
        <output id="contrast_val"></output>
      </label>

      <label>
        <span>Гамма</span>
        <input id="gamma" type="range" min="0.6" max="2.0" step="0.01" />
        <output id="gamma_val"></output>
      </label>

      <label>
        <span>Цвет</span>
        <input id="fg" type="color" />
      </label>

      <label>
        <span>Фон</span>
        <input id="bg" type="color" />
      </label>

      <label>
        <span>FPS</span>
        <input id="fps" type="range" min="5" max="60" step="1" />
        <output id="fps_val"></output>
      </label>

      <label>
        <span>Набор:</span>
        <select id="charset"></select>
      </label>

      <label class="check">
        <input id="invert" type="checkbox" />
        <span>Инверсия</span>
      </label>
    </div>

    <div class="stage" id="stage">
      <pre id="out"></pre>
    </div>

    <video id="vid" playsinline autoplay muted hidden></video>
  </div>

  <script defer src="ascii.js?v=fit2"></script>
  <script type="module">
    import { CHARSETS } from './ascii.js';
    const select = document.getElementById('charset');
    Object.keys(CHARSETS).forEach(key => {
      const opt = document.createElement('option');
      opt.value = CHARSETS[key];
      switch(key){
        case 'classic': opt.textContent = 'Классический'; break;
        case 'digits': opt.textContent = 'Цифры'; break;
        case 'letters': opt.textContent = 'Буквы A–Z'; break;
        case 'allLetters': opt.textContent = 'Все буквы a–z, A–Z'; break;
        case 'katakana': opt.textContent = 'カタカナ'; break;
        case 'hiragana': opt.textContent = 'ひらがな'; break;
        case 'dots': opt.textContent = 'Точки'; break;
        case 'blocks': opt.textContent = 'Блоки ░▒▓█'; break;
        default: opt.textContent = key;
      }
      select.appendChild(opt);
    });
  </script>
</body>
</html>
