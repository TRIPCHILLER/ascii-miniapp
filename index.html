<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ASCII ⛶ VISOR</title>

  <!-- фирменный шрифт только для UI -->
  <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/better-vcr" />
  <link rel="stylesheet" href="styles.css?v=33" />
</head>
<body class="theme-dark">
  <div class="wrap" id="app">

    <!-- Верхняя панель -->
    <div class="toolbar">
      <button class="btn" id="flip">Фронт/Тыл</button>
      <button class="btn" id="toggle">Настройки</button>
      <button class="btn" id="fullscreen">Fullscreen</button>
      <!-- кнопка зеркала показываем только на мобиле -->
      <button class="btn mobile-only" id="mirrorBtn" title="Зеркало">⇋</button>
    </div>

    <!-- Панель настроек (по умолчанию скрыта) -->
    <div class="panel" id="settings" hidden>
      <label>
        <span>Ширина</span>
        <input id="width" type="range" min="40" max="300" step="1" />
        <output id="width_val"></output>
      </label>

      <label>
        <span>Контраст</span>
        <input id="contrast" type="range" min="0.4" max="2.2" step="0.01" />
        <output id="contrast_val"></output>
      </label>

      <label>
        <span>Гамма</span>
        <input id="gamma" type="range" min="0.6" max="2.0" step="0.01" />
        <output id="gamma_val"></output>
      </label>

      <label>
        <span>FPS</span>
        <input id="fps" type="range" min="5" max="60" step="1" />
        <output id="fps_val"></output>
      </label>

      <label>
        <span>Набор</span>
        <select id="charset">
          <option value='@%#*+=-:. ' selected>Классический</option>
          <option value='0123456789'>Только цифры</option>
          <option value='ABCDEFGHIJKLMNOPQRSTUVWXYZ'>Только буквы (A–Z)</option>
          <!-- Точки/штрихи только ASCII — моноширинные -->
          <option value=' .`^,:;-_~'>Точки (моно)</option>
          <option value='░▒▓█ '>Блоки ░▒▓█</option>
          <!-- Halfwidth Katakana U+FF61–FF9F (моноширина, сетку не ломает) -->
          <option value=' ･｡ｰｦｧｨｩｪｫｬｭｮｯｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝ'>
            Katakana (half-width)
          </option>
        </select>
      </label>

      <label>
        <span>Палитра</span>
        <select id="palette">
          <option value="macintosh">Macintosh</option>
          <option value="zenith">Zenith ZVM 1240</option>
          <option value="ibm8503">IBM 8503</option>
          <option value="commodore">Commodore 1084</option>
          <option value="obra">Obra Dinn</option>
          <option value="oldlcd">Old LCD</option>
          <option value="ibm5151">IBM 5151</option>
          <option value="matrix">Matrix</option>
        </select>
      </label>

      <label class="check">
        <input id="invert" type="checkbox" />
        <span>Инверсия</span>
      </label>
    </div>

    <!-- Сцена вывода -->
    <div class="stage" id="stage">
      <pre id="out"></pre>
    </div>

    <!-- Видео (источник камеры) -->
    <video id="vid" playsinline autoplay muted hidden></video>
  </div>

  <script defer src="ascii.js?v=33"></script>
</body>
</html>
